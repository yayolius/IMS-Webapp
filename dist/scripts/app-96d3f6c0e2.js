/*
$(function() {

   

    Morris.Donut({
        element: 'morris-donut-chart',
        data: [{
            label: "Download Sales",
            value: 12
        }, {
            label: "In-Store Sales",
            value: 30
        }, {
            label: "Mail-Order Sales",
            value: 20
        }],
        resize: true
    });

    Morris.Bar({
        element: 'morris-bar-chart',
        data: [{
            y: '2006',
            a: 100,
            b: 90
        }, {
            y: '2007',
            a: 75,
            b: 65
        }, {
            y: '2008',
            a: 50,
            b: 40
        }, {
            y: '2009',
            a: 75,
            b: 65
        }, {
            y: '2010',
            a: 50,
            b: 40
        }, {
            y: '2011',
            a: 75,
            b: 65
        }, {
            y: '2012',
            a: 100,
            b: 90
        }],
        xkey: 'y',
        ykeys: ['a', 'b'],
        labels: ['Series A', 'Series B'],
        hideHover: 'auto',
        resize: true
    });

});
*/
!function(){"use strict";angular.module("webapp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","toastr","validation.match","uiGmapgoogle-maps","rzModule","gridshore.c3js.chart","ui.grid","ui.bootstrap"])}(),function(){"use strict";function e(e,a,i,s){function t(){return e.get(a+"/api/Clients?access_token="+f()).then(b,h)}function n(i){return e.post(a+"/api/Clients",i).then(b,h)}function l(i){return e.post(a+"/api/Clients/login",i).then(b,h)}function r(){return e.post(a+"/api/Clients/logout?access_token="+f()).then(b,h)}function o(){return e.get(a+"/api/Clients/"+s.globals.currentUser.userId+"/Devices?access_token="+f()).then(b,h)}function d(i){return e.get(a+"/api/Clients/"+i+"/?access_token="+f()).then(b,h)}function c(i){return i||(i=s.globals.currentUser.userId),e.get(a+"/api/Clients/"+i+"/is/admin?access_token="+f()).then(b,h)}function v(i){return e.get(a+"/api/Clients/"+i+"/set/admin?access_token="+f()).then(b,h)}function u(i){return e.get(a+"/api/Clients/"+i+"/unset/admin?access_token="+f()).then(b,h)}function m(i,t){return i||(i=s.globals.currentUser.userId),e.get(a+"/api/Clients/"+i+"/is/Device/"+t+"/admin?access_token="+f()).then(b,h)}function p(i,s){return e.get(a+"/api/Clients/"+i+"/set/Device/"+s+"/admin?access_token="+f()).then(b,h)}function g(i,s){return e.get(a+"/api/Clients/"+i+"/unset/Device/"+s+"/admin?access_token="+f()).then(b,h)}function f(){var e="-";return s.globals&&s.globals.currentUser&&s.globals.currentUser.sesionId&&(e=s.globals.currentUser.sesionId),e}function b(e){return e.data?e.data:{}}function h(e){var a=[];if(e.data&&e.data.error&&e.data.error.details)for(var i in e.data.error.details.messages)a.push(e.data.error.details.messages[i]);else e.data.error.message&&a.push(e.data.error.message);return{success:!1,message:a.join(", ")}}var D={};return D.All=t,D.Create=n,D.Login=l,D.Logout=r,D.GetById=d,D.isAdmin=c,D.AllCurrentUserDevices=o,D.AddAdminPrivileges=v,D.RemoveAdminPrivileges=u,D.isDeviceAdmin=m,D.AddDeviceAdminPrivileges=p,D.RemoveDeviceAdminPrivileges=g,D}angular.module("webapp").factory("UserService",e),e.$inject=["$http","apiURL","$log","$rootScope"]}(),function(){"use strict";function e(){function e(){return a}var a=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Less",url:"http://lesscss.org/",description:"Less extends the CSS language, adding features that allow variables, mixins, functions and many other techniques.",logo:"less.png"}];this.getTec=e}angular.module("webapp").service("webDevTec",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,a,i){a.bind("click",function(){var a=i.ngReallyMessage;a&&confirm(a)&&e.$apply(i.ngReallyClick)})}}}angular.module("webapp").directive("ngReallyClick",e)}(),function(){"use strict";function e(){function e(){}var a={restrict:"E",templateUrl:"app/components/navhead/navhead.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return a}angular.module("webapp").directive("headerNavbar",e)}(),function(){"use strict";function e(){function e(e,a){var i=this;i.deviceCount=0,i.devices=[],i.isAdmin=!1,a.AllCurrentUserDevices().then(function(e){i.deviceCount=e.length?e.length:0,i.deviceCount>0&&(i.devices=e)}),a.isAdmin().then(function(e){e&&e.is&&(i.isAdmin=!0)}),i.relativeDate=e(i.creationDate).fromNow()}e.$inject=["moment","UserService"];var a={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return a}angular.module("webapp").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function a(a,i,s,t){var n,l=e(i[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});i.addClass("acme-malarkey"),angular.forEach(a.extraValues,function(e){l.type(e).pause()["delete"]()}),n=a.$watch("vm.contributors",function(){angular.forEach(t.contributors,function(e){l.type(e.login).pause()["delete"]()})}),a.$on("$destroy",function(){n()})}function i(e,a){function i(){return s().then(function(){e.info("Activated Contributors View")})}function s(){return a.getContributors(10).then(function(e){return t.contributors=e,t.contributors})}var t=this;t.contributors=[],i()}i.$inject=["$log","githubContributor"];var s={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:a,controller:i,controllerAs:"vm"};return s}e.$inject=["malarkey"],angular.module("webapp").directive("acmeMalarkey",e)}(),function(){"use strict";function e(e,a){function i(i){function t(e){return e.data}function n(a){e.error("XHR Failed for getContributors.\n"+angular.toJson(a.data,!0))}return i||(i=30),a.get(s+"/contributors?per_page="+i).then(t)["catch"](n)}var s="https://api.github.com/repos/Swiip/generator-gulp-angular",t={apiHost:s,getContributors:i};return t}e.$inject=["$log","$http"],angular.module("webapp").factory("githubContributor",e)}(),function(){"use strict";function e(e,a,i,s){function t(){return e.get(a+"/api/Devices?access_token="+s.globals.currentUser.sesionId).then(D,w)}function n(i){return e.post(a+"/api/Clients/"+s.globals.currentUser.userId+"/Devices?access_token="+s.globals.currentUser.sesionId,i).then(D,w)}function l(i){return e.get(a+"/api/Clients/"+s.globals.currentUser.userId+"/Devices/"+i+"?access_token="+s.globals.currentUser.sesionId).then(D,w)}function r(i){return e.get(a+"/api/Devices?access_token="+s.globals.currentUser.sesionId+"&filter[where][name]="+encodeURI(i)).then(D,w)}function o(i,t){return e.get(a+"/api/Devices/"+i+"/Datapoints/"+t+"?access_token="+s.globals.currentUser.sesionId).then(D,w)}function d(i,t){return e.get(a+"/api/Devices/"+i+"/Datapoints/"+t+"/baselines?access_token="+s.globals.currentUser.sesionId).then(D,w)}function c(i,t){return e.get(a+"/api/Devices/"+i+"/Datapoints/since?access_token="+s.globals.currentUser.sesionId+"&datetime="+t).then(D,w)}function v(i){return e.get(a+"/api/Devices/"+i+"/Clients?access_token="+s.globals.currentUser.sesionId).then(D,w)}function u(i,t){return e.put(a+"/api/Devices/"+i+"?access_token="+s.globals.currentUser.sesionId,t).then(D,w)}function m(i,t){return e.post(a+"/api/Devices/"+i+"/Datapoints/baselines/delete?access_token="+s.globals.currentUser.sesionId,{baselines:t}).then(D,w)}function p(i,t){return e.post(a+"/api/Devices/"+i+"/Datapoints/baselines/export?access_token="+s.globals.currentUser.sesionId,{baselines:t}).then(D,w)}function g(i){return e.put(a+"/api/Devices/"+i+"/Clients/rel/"+s.globals.currentUser.userId+"?access_token="+s.globals.currentUser.sesionId).then(D,w)}function f(i){return e["delete"](a+"/api/Devices/"+i+"/Clients/rel/"+s.globals.currentUser.userId+"?access_token="+s.globals.currentUser.sesionId).then(D,w)}function b(e,i){return a+"/api/Devices/"+e+"/Datapoints/"+i+"/export?access_token="+s.globals.currentUser.sesionId}function h(e,i,t){return a+"/api/Devices/"+e+"/Datapoints/range/export?access_token="+s.globals.currentUser.sesionId+"&from="+i.getTime()+"&to="+t.getTime()}function D(e){return e.data?e.data:{}}function w(e){i.info(e);var a=[];if(e.data&&e.data.error&&e.data.error.details)for(var s in e.data.error.details.messages)a.push(e.data.error.details.messages[s]);else e.data.error.message&&a.push(e.data.error.message);return{success:!1,message:a.join(", ")}}var y={};return y.All=t,y.CreateCurrentUserDevice=n,y.findByName=r,y.GetCurrentUserDevice=l,y.GetDataPointsFromDate=o,y.GetUserlist=v,y.UpdateDevice=u,y.AssignCurrentUserToDevice=g,y.UnAsignCurrentUserToDevice=f,y.GetDataPointsSince=c,y.getUrlForDownload=b,y.getUrlForDownloadRange=h,y.GetDataBaselinesFromDate=d,y.RemoveBaselines=m,y.ExportBaselines=p,y}angular.module("webapp").factory("DeviceService",e),e.$inject=["$http","apiURL","$log","$rootScope"]}(),function(){"use strict";function e(e,a,i,s,t,n){function l(e,a,i){t.Create({email:e,password:a}).then(function(e){i(e)})}function r(e,a,s){t.Login({email:e,password:a}).then(function(e){e.hasOwnProperty("id")&&c(e.id,e.userId),o(function(a){if(m()&&(!a.status||a.status&&"error"!=a.status)){var t=i.globals.currentUser.sesionId;i.globals.currentUser.email=a.email,i.globals.currentUser.userId=a.id,a.sesionId=t}s(e)})})}function o(e){return m()?void t.GetById(i.globals.currentUser.userId).then(function(a){return n.info(a),e(a)}):e({status:"error"})}function d(e){t.Logout().then(function(a){u(),e(a)})}function c(e,s){i.globals={currentUser:{sesionId:e,userId:s}},console.log(i.globals.currentUser),a.put("globals.currentUser.sesionId",i.globals.currentUser.sesionId),a.put("globals.currentUser.userId",i.globals.currentUser.userId)}function v(e){n.info("ReloadSavedCredentials");var s=a.get("globals.currentUser.sesionId"),t=a.get("globals.currentUser.userId");s&&t&&(i.globals={currentUser:{sesionId:s,userId:t}},o(function(a){if(m()&&(!a.status||a.status&&"error"!=a.status)){var s=i.globals.currentUser.sesionId;i.globals.currentUser.email=a.email,i.globals.currentUser.userId=a.id,a.sesionId=s,e&&e()}}))}function u(){i.globals={},a.remove("globals.currentUser.sesionId"),a.remove("globals.currentUser.userId")}function m(){return i.globals&&i.globals.currentUser&&i.globals.currentUser.sesionId?!0:!1}var p={};return p.Login=r,p.Register=l,p.Logout=d,p.ClearCredentials=u,p.ReloadSavedCredentials=v,p}e.$inject=["$http","$cookies","$rootScope","$timeout","UserService","$log"],angular.module("webapp").factory("AuthenticationService",e)}(),function(){"use strict";function e(e,a){var i=this;i.email="",i.password="",i.password2="",i.errorMessage="",i.showSuccess=!1,i.register=function(){e.form.$valid&&(i.errorMessage="",a.Register(i.email,i.password,function(e){e.hasOwnProperty("success")&&e.success===!1?i.errorMessage=e.message:e.hasOwnProperty("email")&&e.hasOwnProperty("id")&&(i.showSuccess=!0)}))}}e.$inject=["$scope","AuthenticationService"],angular.module("webapp").controller("RegisterController",e)}(),function(){"use strict";function e(e,a,i){a.Logout(function(){i.path("/login")})}e.$inject=["$scope","AuthenticationService","$location"],angular.module("webapp").controller("LogoutController",e)}(),function(){"use strict";function e(e,a,i,s){function t(e){n.datapoints.length?Morris.Area({element:"morris-area-chart",data:n.datapoints,xkey:"datetime",ykeys:_.map(e,"id"),labels:_.map(e,"name"),pointSize:0,hideHover:!0,resize:!0}):n.nodata=!0}var n=this;n.deviceCount=0,n.datapoints=[],n.nodata=!1;var l=0;i.AllCurrentUserDevices().then(function(e){n.deviceCount=e.length,_.forEach(e,function(a){s.GetDataPointsFromDate(a.id,"hour").then(function(i){_.forEach(i,function(e){var i={datetime:e.datetime};i[a.id]=e.value,n.datapoints.push(i)}),l++,l==n.deviceCount&&t(e)})})})}e.$inject=["$log","$timeout","UserService","DeviceService"],angular.module("webapp").controller("MainController",e)}(),function(){"use strict";function e(e,a,i,s){var t=this;t.email="",t.password="",t.rememberme=!1,t.showSuccess=!1,t.errorMessage="",t.login=function(){e.form.$valid&&(t.errorMessage="",a.Login(t.email,t.password,function(e){s.debug(e),e.hasOwnProperty("success")&&e.success===!1?t.errorMessage=e.message:e.hasOwnProperty("id")&&e.hasOwnProperty("userId")&&(t.showSuccess=!0,i.path("/dashboard"))}))}}e.$inject=["$scope","AuthenticationService","$location","$log"],angular.module("webapp").controller("LoginController",e)}(),function(){"use strict";function e(e,a,i,s,t,n,l,r){var o=this;o.device={name:""},o.deviceUsers=[],o.currentUserId=a.globals.currentUser.userId,s.GetCurrentUserDevice(n.deviceId).then(function(e){i.debug(e),e.id&&(o.device=e,s.GetUserlist(n.deviceId).then(function(e){o.deviceUsers=e,_.forEach(o.deviceUsers,function(e){!function(e){t.isDeviceAdmin(e.id,o.device.id).then(function(a){console.log(e,a),a&&(e.isDeviceAdmin=a.is)})}(e)})}))}),o.undoDeviceAdmin=function(e){t.RemoveDeviceAdminPrivileges(o.deviceUsers[e].id,o.device.id).then(function(a){t.isDeviceAdmin(o.deviceUsers[e].id,o.device.id).then(function(a){console.log(o.deviceUsers[e],a),a&&(o.deviceUsers[e].isDeviceAdmin=a.is)})})},o.doDeviceAdmin=function(e){t.AddDeviceAdminPrivileges(o.deviceUsers[e].id,o.device.id).then(function(a){t.isDeviceAdmin(o.deviceUsers[e].id,o.device.id).then(function(a){console.log(o.deviceUsers[e],a),a&&a.is?o.deviceUsers[e].isDeviceAdmin=!0:o.deviceUsers[e].isDeviceAdmin=!1})})},o.updateDevice=function(){o.sendingDeviceForm=!0,s.UpdateDevice(n.deviceId,o.device).then(function(e){o.sendingDeviceForm=!1})}}e.$inject=["$scope","$rootScope","$log","DeviceService","UserService","$stateParams","$location","$filter"],angular.module("webapp").controller("DeviceSettingsController",e)}(),function(){"use strict";function e(e,a,i,s,t,n,l){function r(e,a){var i;if(a>0&&1>a)i=a;else{if(!(a>0&&100>=a))return!1;i=.01*a}var s=e.length,t=(s-1)*i,n=parseInt(t),l=t-n,r=e.sort(function(e,a){return e-a}),o=0;return o=l%1===0?r[n]:s>n+1?l*(r[n+1]-r[n])+r[n]:r[n]}function o(){if(g.currentBaseline&&g.currentBaseline.allvalues){g.baselineGrid.data=g.currentBaseline.allvalues;var e=_.reject(g.baselineGrid.data,function(e){return e.value||0===e.value}),a=_.cloneDeep(e),i=_.cloneDeep(e),s=[];i=_.map(i,"value_baseline"),i=i.sort(function(e,a){return e-a});var t=Math.round(100*r(i,10))/100;g.device.percentil_inferior&&(t=Math.round(100*r(i,g.device.percentil_inferior))/100);var n=Math.round(100*r(i,90))/100;g.device.percentil_superior&&(n=Math.round(100*r(i,g.device.percentil_superior))/100);var l=[];for(var o in i){var d=i[o];d>=t&&n>d&&(l.push(d),s.push(a[o]))}var c=(new Date(g.currentBaseline.to).getTime()-new Date(g.currentBaseline.from).getTime())/36e5/g.currentBaseline.totalCount,v=0;l.forEach(function(e){v=e+v});var u=v/l.length,m=_.sortBy(s,"datetime",function(e){new Date(e.datetime).getTime()}),p=0;m.length>0&&_.last(m).datetime&&_.first(m).datetime&&(p=(new Date(_.last(m).datetime).getTime()+new Date(_.first(m).datetime).getTime())/36e5),g.filteredBaselineGrid.data=s,g.filteredBaselineGrid.p10Value=t,g.filteredBaselineGrid.p90Value=n,g.filteredBaselineGrid.p10=g.device.percentil_inferior,g.filteredBaselineGrid.p90=g.device.percentil_superior,g.filteredBaselineGrid.sum=v,g.filteredBaselineGrid.freq=c,g.filteredBaselineGrid.averageValue=u,g.filteredBaselineGrid.totalHours=s.length*c,g.filteredBaselineGrid.averageTonelaje=g.currentBaseline.tonelajeAvg}}function d(){i.GetDataPointsSince(g.device.id,g.originalDatapoints[g.originalDatapoints.length-1].datetime).then(function(a){var i=g.deviceGraph.highcharts();_.forEach(a,function(e){g.datapoints.push(e),g.originalDatapoints.push(_.clone(e)),e.value&&(g.lastPolutionVal=e.value),e.value&&i.series[0].addPoint([new Date(e.datetime).getTime()-60*new Date(e.datetime).getTimezoneOffset()*1e3,e.value],!0),e.value_baseline&&i.series[1].addPoint([new Date(e.datetime).getTime()-60*new Date(e.datetime).getTimezoneOffset()*1e3,e.value_baseline],!0),e.tonelaje&&i.series.length>2&&i.series[2].addPoint([new Date(e.datetime).getTime()-60*new Date(e.datetime).getTimezoneOffset()*1e3,e.tonelaje],!0)}),u(g.originalDatapoints);var s=g.filteredGrid.sum/(g.filteredGrid.totalHours*g.filteredGrid.averageTonelaje)/(g.filteredBaselineGrid.sum/(g.filteredBaselineGrid.totalHours*g.filteredBaselineGrid.averageTonelaje)),t=1-s;e.gauge.data[0].y=100*t,g.loadTimeout=setTimeout(function(){d()},g.reloadTime)})}function c(e){var a=[],i=[],s=[],t=[],n=!0;e.forEach(function(e){n&&!e.value_baseline&&0!==e.value_baseline?i.push(e):n&&e.value_baseline?(a.push(_.cloneDeep(i)),i=[],n=!1,t.push(e)):!n&&e.value_baseline?t.push(e):n||e.value_baseline||0===e.value_baseline||(s.push(_.cloneDeep(t)),t=[],n=!0,i.push(e))}),n&&i.length>0?a.push(i):!n&&t.length>0&&s.push(t);var l=0,r=0;return a.forEach(function(e){l+=(new Date(_.last(e).datetime).getTime()-new Date(_.first(e).datetime).getTime())/36e5,r+=e.length}),{totalHours:l,totalPoints:r}}function v(e){var a=12e4,i=[],s=[],t=0,n=0;return e.forEach(function(e){return 0==s.length?(n++,s.push(e)):void(new Date(e.datetime).getTime()-new Date(_.last(s).datetime).getTime()>a?(i.push(_.cloneDeep(s)),s=[e],n++):s.push(e))}),s.length>0&&i.push(s),i.forEach(function(e){t+=(new Date(_.last(e).datetime).getTime()-new Date(_.first(e).datetime).getTime())/36e5}),t}function u(e){var i=_.reject(e,function(e){return e.value_baseline||0===e.value_baseline}),s=_.cloneDeep(i),t=_.cloneDeep(i),n=[],l=_.cloneDeep(e),o=_.sortBy(l,"datetime",function(e){new Date(e.datetime).getTime()}),d=c(o).totalHours,u=d/c(o).totalPoints;t=_.map(t,"value"),t=t.sort(function(e,a){return e-a});var p=Math.round(100*r(t,10))/100;g.device.percentil_inferior&&(p=Math.round(100*r(t,g.device.percentil_inferior))/100);var f=Math.round(100*r(t,90))/100;g.device.percentil_superior&&(f=Math.round(100*r(t,g.device.percentil_superior))/100);var b=[];for(var h in t){var D=t[h];D>=p&&f>D&&(b.push(D),n.push(s[h]))}var w=0;b.forEach(function(e){w=e+w});var y=w/b.length,T=_.sortBy(n,"datetime",function(e){new Date(e.datetime).getTime()}),U=_.sumBy(s,"tonelaje")/s.length,A=m(),G=0;return T.length>0&&_.last(T).datetime&&_.first(T).datetime&&(G=v(T)),G=b.length*u,g.filteredGrid.p10Value=p,g.filteredGrid.p90Value=f,g.filteredGrid.p10=g.device.percentil_inferior,g.filteredGrid.p90=g.device.percentil_superior,g.filteredGrid.sum=w,g.filteredGrid.data=n,g.filteredGrid.averageValue=y,g.filteredGrid.averageTonelaje=U,g.filteredGrid.averageBaseline=A,g.filteredGrid.freq=u,g.filteredGrid.totalHours=G,isNaN(y)||isNaN(U)||isNaN(A)||isNaN(G)?(a.error("Uno de los valores esta vacio, y dio como resultado NaN"),a.error("isNaN(averageValue)",isNaN(y),"isNaN(averageTonelaje)",isNaN(U),"isNaN(averageBaseline ",isNaN(A),"isNaN(totalHours)",isNaN(G)),0):0}function m(){return g.device.baseline_value?g.device.baseline_value:0}function p(e){var a=e.date,i=e.mode;return"day"===i&&(0===a.getDay()||6===a.getDay())}var g=this;g.device={name:""},g.isUserAdmin=!1,g.isUserDeviceAdmin=!1,g.deviceGraph=null,g.deviceGraphOptions=null,g.markers=[],g.hasEmptyDatapoints=!1,g.datapoints=[],g.reloadTime=1e4,g.loadTimeout=null,g.viewTimespan="hour",g.lastPolutionVal=0,g.availableBaselines=[],g.currentBaseline=null,g.mainGrid={enableFiltering:!0,showGridFooter:!0,showColumnFooter:!0},g.filteredGrid={enableFiltering:!0,showGridFooter:!0,showColumnFooter:!0},g.baselineGrid={enableFiltering:!0,showGridFooter:!0,showColumnFooter:!0},g.filteredBaselineGrid={enableFiltering:!0,showGridFooter:!0,showColumnFooter:!0},e.gauge={columns:[{id:"y",name:"cpu",type:"gauge"}],data:[{y:0}]},g.map={center:{latitude:0,longitude:0},zoom:13,bounds:{},options:{scrollwheel:!1}},g.slider={value:0,options:{stepsArray:["Baja","Media","Alta"],disabled:!1}},g.updateDevice=function(){g.sendingDeviceForm=!0,i.UpdateDevice(t.deviceId,g.device).then(function(e){a.info(e),g.sendingDeviceForm=!1})},g.unassignDevice=function(){g.sendingDeviceForm=!0,i.UnAsignCurrentUserToDevice(t.deviceId,g.device).then(function(e){a.info(e),g.sendingDeviceForm=!1,n.path("/dashboard")})},i.GetCurrentUserDevice(t.deviceId).then(function(s){a.debug(s),s.id&&(g.device=s,g.device.baseline_value||alert("No hay una linea base fijada, debe fijar una linea base en el menu superior."),g.device.polucion=0,g.slider.options.disabled=g.device.auto_supresor,g.downloadUrls={hour:i.getUrlForDownload(s.id,"hour"),day:i.getUrlForDownload(s.id,"day"),week:i.getUrlForDownload(s.id,"week"),month:i.getUrlForDownload(s.id,"month"),all:i.getUrlForDownload(s.id,"all"),range:i.getUrlForDownloadRange(s.id,e.dt_from,e.dt_to)},i.GetDataBaselinesFromDate(g.device.id,"all").then(function(e){g.availableBaselines=e,_.forEach(g.availableBaselines,function(e){g.device.baseline_from==e.from&&g.device.baseline_value==e.baseline&&(g.currentBaseline=e)}),o(),g.drawGraphFromTime()}))}),g.drawGraphFromTime=function(){i.GetDataPointsFromDate(g.device.id,g.viewTimespan).then(function(a){if(console.log(a),g.mainGrid.data=a,g.originalDatapoints=_.cloneDeep(a),g.datapoints=a,0===g.datapoints.length)return g.hasEmptyDatapoints=!0;u(g.originalDatapoints);var i=g.filteredGrid.sum/(g.filteredGrid.totalHours*g.filteredGrid.averageTonelaje)/(g.filteredBaselineGrid.sum/(g.filteredBaselineGrid.totalHours*g.filteredBaselineGrid.averageTonelaje)),s=1-i;e.gauge.data[0].y=100*s;var t=m();_.remove(g.datapoints,function(e){return e.value_baseline||0===e.value_baseline}),_.last(g.datapoints)&&(g.lastPolutionVal=_.last(g.datapoints).value);var n=[];_.forEach(g.datapoints,function(e,a){if(e.gps){var i=!1;_.forEach(n,function(a){a.latitude==e.gps.lat&&a.longitude==e.gps.lng&&(i=!0)}),i||n.push({latitude:e.gps.lat,longitude:e.gps.lng,id:a})}}),g.markers=n,n.length>0&&(g.map.center=_.cloneDeep(n[0]),delete g.map.center.index);var l=[];if(g.device.alert_treadshot&&(l=[g.device.alert_treadshot,t]),!g.deviceGraph&&g.datapoints.length>=0){angular.element("#time-chart").text("");var r=[],o=[],c=[];for(var v in g.originalDatapoints){var p=new Date(g.originalDatapoints[v].datetime);g.originalDatapoints[v].value&&r.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].value]),g.originalDatapoints[v].value_baseline&&o.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].value_baseline]),g.originalDatapoints[v].tonelaje&&c.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].tonelaje])}g.deviceGraphOptions={chart:{zoomType:"x"},title:{text:"Valores del sensor de polución"},subtitle:{text:void 0===document.ontouchstart?"Hacer click y arrastrar para acercar.":"Tocar el gráfico para acercar."},xAxis:{type:"datetime"},yAxis:[{max:g.device.alert_treadshot,title:{text:"Valor del sensor"},plotLines:[{value:t,color:"green",dashStyle:"shortdash",width:2,label:{text:"Linea base"}},{value:g.device.alert_treadshot,color:"red",dashStyle:"shortdash",width:2,label:{text:"Umbral de alerta"}},{value:g.device.llp_ds,color:"green",dashStyle:"dash",width:1,label:{text:"LLP DS 594"}}]},{title:{text:"Tonelaje"},opposite:!0,gridLineWidth:1}],legend:{enabled:!0},tooltip:{shared:!0},series:[{type:"line",name:"Concentración de Polvo (mg/m3)",data:r,width:1},{type:"line",name:"Linea base concentración de Polvo (mg/m3)",data:o,width:1},{yAxis:1,type:"line",name:"Toneladas de Mineral (ton/hra)",data:c,width:1}]},g.device.show_tonelaje||(g.deviceGraphOptions.yAxis.pop(),g.deviceGraphOptions.series.pop()),g.deviceGraph=$("#time-chart").highcharts(g.deviceGraphOptions),console.log(g.deviceGraph)}else if(g.deviceGraph&&g.datapoints.length>0){var f=g.deviceGraph.highcharts(),r=[],o=[],c=[];for(var v in g.originalDatapoints){var p=new Date(g.originalDatapoints[v].datetime);g.originalDatapoints[v].value&&r.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].value]),g.originalDatapoints[v].value_baseline&&o.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].value_baseline]),g.originalDatapoints[v].tonelaje&&c.push([p.getTime()-60*p.getTimezoneOffset()*1e3,g.originalDatapoints[v].tonelaje])}f.series[0].setData(r),f.series[1].setData(o),f.series.length>2&&f.series[1].setData(c)}else 0===g.datapoints.length&&angular.element("#time-chart").text("No existen datos para graficar");g.loadTimeout=setTimeout(function(){d()},g.reloadTime)})},g.updateTimespan=function(e){clearTimeout(g.loadTimeout),g.viewTimespan=e,g.drawGraphFromTime()},s.isAdmin().then(function(e){e&&e.is&&(g.isUserAdmin=!0)}),s.isDeviceAdmin(null,t.deviceId).then(function(e){e&&e.is&&(g.isUserDeviceAdmin=!0)}),e.dt_from=new Date((new Date).getTime()-864e5),e.dt_to=new Date,e.dateOptions={dateDisabled:p,formatYear:"yy",maxDate:new Date,minDate:new Date((new Date).getTime()-31536e6)},e.open1=function(){e.popup1.opened=!0},e.open2=function(){e.popup2.opened=!0},e.setDate=function(a,i,s){e.dt=new Date(a,i,s)},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1},e.popup2={opened:!1};var f=new Date;f.setDate(f.getDate()+1);var b=new Date;b.setDate(f.getDate()+1),e.events=[{date:f,status:"full"},{date:b,status:"partially"}],e.$watch("dt_from",function(a,s){return a.getTime()>e.dt_to.getTime()?!1:void(g.downloadUrls&&g.downloadUrls.range&&(g.downloadUrls.range=i.getUrlForDownloadRange(g.device.id,e.dt_from,e.dt_to)))}),e.$watch("dt_to",function(a,s){return a.getTime()<e.dt_to.getTime()?!1:void(g.downloadUrls&&g.downloadUrls.range&&(g.downloadUrls.range=i.getUrlForDownloadRange(g.device.id,e.dt_from,e.dt_to)))})}e.$inject=["$scope","$log","DeviceService","UserService","$stateParams","$location","$filter"],angular.module("webapp").controller("DeviceController",e)}(),function(){"use strict";function e(e,a,i,s,t,n){function l(){for(var e=0;e<o.availableBaselines.length;e++){var a=[];o.availableBaselines[e].allvalues.sort(function(e,a){return new Date(e.datetime).getTime()-new Date(a.datetime).getTime()});for(var i in o.availableBaselines[e].allvalues)o.availableBaselines[e].allvalues[i].value_baseline&&a.push([new Date(o.availableBaselines[e].allvalues[i].datetime).getTime()-60*new Date(o.availableBaselines[e].allvalues[i].datetime).getTimezoneOffset()*1e3,o.availableBaselines[e].allvalues[i].value_baseline]);var s={title:{text:""},chart:{zoomType:"x"},xAxis:{type:"datetime"},yAxis:{title:{text:""}},legend:{enabled:!1},exporting:{enabled:!1},series:[{type:"line",name:"Concentración de Polvo (mg/m3)",data:a}]};console.log("#basline-graph-"+e,s),$("#basline-graph-"+e).highcharts(s)}}function r(e,a){var i=document.createElement("a");i.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(a)),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}var o=this;o.device={name:""},o.availableBaselines=[],o.updateDevice=function(){o.sendingDeviceForm=!0,i.UpdateDevice(s.deviceId,o.device).then(function(e){o.sendingDeviceForm=!1})},i.GetCurrentUserDevice(s.deviceId).then(function(e){a.debug(e),e.id&&(o.device=e,i.GetDataBaselinesFromDate(o.device.id,"all").then(function(e){o.availableBaselines=e,setTimeout(function(){l()},50)}))}),o.deleteBaseline=function(e){var a=o.availableBaselines[e].allvalues,t=confirm("Esta seguro que desea borrar esta linea base?");t&&i.RemoveBaselines(s.deviceId,a).then(function(a){console.log(a),o.availableBaselines.splice(e,1)})},o.exportBaseline=function(e){var a=o.availableBaselines[e].allvalues;i.ExportBaselines(s.deviceId,a).then(function(e){r("baseline-"+(new Date).getTime()+".csv",e)})},o.selectBaseline=function(e){var a=o.availableBaselines[e];o.device.baseline_from=a.from,o.device.baseline_to=a.to,o.device.baseline_value=a.baseline,o.updateDevice()}}e.$inject=["$scope","$log","DeviceService","$stateParams","$location","$filter"],angular.module("webapp").controller("DeviceBaselinesController",e)}(),function(){"use strict";function e(e,a,i){var s=this;s.deviceCount="",s.errorMessage="",s.processingName=!1,s.deviceId="",s.deviceName="",s.deviceType="polucion-simple",s.deviceGPS={lat:"",lng:""},s.deviceMode="linea-base",s.deviceReadType="polvo-total",s.deviceLlpDs="",s.deviceTonelaje="",s.deviceUmbralAlerta="",s.sendingDeviceForm=!1,s.status={screen:"name",nameFound:!1,nameNotFound:!1},s.validateAndAssign=function(){s.processingName=!0,i.findByName(s.deviceName).then(function(i){e.debug(i),s.processingName=!1,1==i.length?(s.deviceId=i[0].id,a.AllCurrentUserDevices().then(function(e){var a=!1;if(s.deviceCount=e.length?e.length:0,s.deviceCount>0)for(var t in e){var n=e[t];n.id==i[0].id&&(a=!0)}a?(s.status.nameFound=!0,s.status.nameNotFound=!1,s.status.screen="already-asigned"):(s.status.nameFound=!0,s.status.nameNotFound=!1,s.status.screen="confirm")})):(s.status.nameFound=!1,s.status.nameNotFound=!0,s.status.screen="confirm")})},s.backToName=function(){s.status.nameFound=!1,s.status.nameNotFound=!1,s.status.screen="name"},s.createNewDevice=function(){s.status.screen="create"},s.assignNewDevice=function(){i.AssignCurrentUserToDevice(s.deviceId).then(function(a){s.status.screen="success-assign",e.info(a)})},s.saveNewDevice=function(){var a={name:s.deviceName,type:s.deviceType,gps:s.deviceGPS,mode:s.deviceMode,read_type:s.deviceReadType,llp_ds:s.deviceLlpDs,tonelaje:s.deviceTonelaje,alert_treadshot:s.deviceUmbralAlerta};a.gps||delete a.gps,a.llp_ds||delete a.llp_ds,a.tonelaje||delete a.tonelaje,a.alert_treadshot||delete a.alert_treadshot,i.CreateCurrentUserDevice(a).then(function(a){e.debug(a),a.id&&(s.status.screen="success-add",s.deviceId=a.id)})}}e.$inject=["$log","UserService","DeviceService"],angular.module("webapp").controller("DeviceAssignController",e)}(),function(){"use strict";function e(e,a,i,s,t,n,l){var r=this;r.users=[],s.All().then(function(e){r.users=e,_.forEach(r.users,function(e){!function(e){s.isAdmin(e.id).then(function(a){console.log(e,a),a&&(e.isAdmin=a.is)})}(e)})}),r.doUnAdmin=function(e){s.RemoveAdminPrivileges(r.users[e].id).then(function(a){s.isAdmin(r.users[e].id).then(function(a){console.log(r.users[e],a),a&&(r.users[e].isAdmin=a.is)})})},r.doAdmin=function(e){s.AddAdminPrivileges(r.users[e].id).then(function(a){s.isAdmin(r.users[e].id).then(function(a){console.log(r.users[e],a),a&&(r.users[e].isAdmin=a.is)})})}}e.$inject=["$scope","$log","DeviceService","UserService","$stateParams","$location","$filter"],angular.module("webapp").controller("AdminController",e)}(),function(){"use strict";function e(e,a,i,s,t,n,l){n.ReloadSavedCredentials();var r=a.$on("$locationChangeStart",function(){a.$on("$destroy",r);var e=-1===$.inArray(i.path(),["/login","/register"]),s=!1;a.globals&&a.globals.currentUser&&(s=a.globals.currentUser),e&&!s&&i.path("/login"),s&&$.inArray(i.path(),["/login"])>=0&&i.path("/dashboard"),$.inArray(i.path(),["/admin"])>=0&&l.isAdmin().then(function(e){e&&0==e.is&&i.path("/dashboard")})});e.debug("runBlock end")}e.$inject=["$log","$rootScope","$location","$cookies","$http","AuthenticationService","UserService"],angular.module("webapp").run(e)}(),function(){"use strict";function e(e,a){e.state("home",{url:"/dashboard",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("register",{url:"/register",templateUrl:"app/register/register.html",controller:"RegisterController",controllerAs:"vm"}).state("logout",{url:"/logout",templateUrl:"app/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).state("devices-assign",{url:"/devices/assign",templateUrl:"app/assignDevice/assign.device.html",controller:"DeviceAssignController",controllerAs:"vm"}).state("device",{url:"/devices/:deviceId",templateUrl:"app/device/device.html",controller:"DeviceController",controllerAs:"vm"}).state("device-settings",{url:"/devices/:deviceId/settings",templateUrl:"app/device-settings/device-settings.html",controller:"DeviceSettingsController",controllerAs:"vm"}).state("device-baselines",{url:"/devices/:deviceId/baselines",templateUrl:"app/device-baselines/device-baselines.html",controller:"DeviceBaselinesController",controllerAs:"vm"}).state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"vm"}),a.otherwise("/login")}e.$inject=["$stateProvider","$urlRouterProvider"],
angular.module("webapp").config(e)}(),function(){"use strict";angular.module("webapp").constant("malarkey",malarkey).constant("moment",moment).constant("apiURL","http://159.203.114.208:3000")}(),function(){"use strict";function e(e,a,i){e.debugEnabled(!0),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0;var s={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};i.value("$locale",{DATETIME_FORMATS:{AMPMS:["A.M.","P.M."],DAY:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],ERANAMES:["antes de Cristo","después de Cristo"],ERAS:["a. C.","d. C."],FIRSTDAYOFWEEK:0,MONTH:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],SHORTDAY:["dom.","lun.","mar.","mié.","jue.","vie.","sáb."],SHORTMONTH:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],STANDALONEMONTH:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"dd-MM-y h:mm:ss a",mediumDate:"dd-MM-y",mediumTime:"h:mm:ss a","short":"dd-MM-yy h:mm a",shortDate:"dd-MM-yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"es-cl",localeID:"es_CL",pluralCat:function(e,a){return 1==e?s.ONE:s.OTHER}})}e.$inject=["$logProvider","toastrConfig","$provide"],angular.module("webapp").config(e)}(),angular.module("webapp").run(["$templateCache",function(e){e.put("app/admin/admin.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header"><i class="fa fa-cog"></i> Admin</h1></div></div><div class="row"><div class="col-md-12"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Usuarios</h3></div><div class="panel-body"><ul class="list-group"><li class="list-group-item" ng-repeat="user in vm.users"><div class="row"><div class="col-md-3">{{user.id}}</div><div class="col-md-3">{{user.email}}</div><div class="col-md-6"><span class="btn btn-xs btn-success" ng-if="user.isAdmin === true">Es Administrador</span> <a class="btn btn-xs btn-primary" ng-if="user.isAdmin === false" ng-click="vm.doAdmin($index)">Hacer administrador</a> <a class="btn btn-xs btn-danger" ng-if="user.isAdmin === true && user.email!=\'yayolius@gmail.com\'" ng-click="vm.doUnAdmin($index)">Quitar Administración</a></div></div></li></ul></div></div></div></div></div></div></div>'),e.put("app/assignDevice/assign.device.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header">Agregar Dispositivo</h1></div></div><div class="row"><div class="col-lg-12"><div class="col-md-6 col-md-offset-3"><div class="panel"><div class="panel-body"><form ng-if="vm.status.screen == \'name\'" name="formName" novalidate="" role="form"><fieldset><p class="bg-danger pildorita" ng-show="vm.errorMessage != \'\'">{{errorMessage}}</p><div class="form-group"><input class="form-control" ng-model="vm.deviceName" placeholder="Identificador del dispositivo" name="deviceName" type="text" minlength="3" required=""><p><small>Ingrese el identificador del dispositivo que puede encontrar en ...</small></p><input ng-disabled="!formName.$valid" type="submit" ng-click="vm.validateAndAssign()" class="btn btn-lg btn-success btn-block" value="Validar & asignar"></div></fieldset></form><form ng-if="vm.status.screen == \'confirm\'" name="formConfirm" novalidate="" role="form"><fieldset ng-if="vm.status.nameNotFound === true"><div class="form-group"><p>El dispositivo<big><strong>{{vm.deviceName}}</strong> <strong class="text-danger">NO FUE ENCONTRADO</strong></big>, esto se puede deber a que el nombre esta mal escrito, o el dispositivo no ha sido creado por ningún usuario en el sistema.</p><div class="col-md-6"><input type="submit" ng-click="vm.createNewDevice()" class="btn btn-success btn-block" value="Agregar dispositivo"></div><div class="col-md-6"><input type="submit" ng-click="vm.backToName()" class="btn btn-info btn-block" value="Volver a intentar"></div></div></fieldset><fieldset ng-if="vm.status.nameFound === true"><div class="form-group"><p>El dispositivo<big><strong>FUE ENCONTRADO con exito</strong></big>, esto significa que ya fue creado por otro usuario, asignando el dispositivo tendra acceso a sus gráficos y alertas.</p><div class="col-md-6"><input type="submit" ng-click="vm.assignNewDevice()" class="btn btn-lg btn-success btn-block" value="Asignar dispositivo"></div><div class="col-md-6"><input type="submit" ng-click="vm.backToName()" class="btn btn-lg btn-info btn-block" value="Volver a intentar"></div></div></fieldset></form><form ng-if="vm.status.screen == \'create\'" name="formCreateDevice" novalidate="" role="form" class="form-horizontal"><fieldset><div class="form-group"><label class="col-md-4" for="">Nombre:</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceName" name="deviceName" readonly="true" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Tipo de sensor</label><div class="col-md-8"><select class="form-control" name="deviceType" ng-model="vm.deviceType"><option value="polucion-simple">Chancado y Correas</option><option value="polucion-gps">Caminos</option></select></div></div><div class="form-group"><label class="col-md-4" for="">Ubicacion GPS Latitud</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceGPS.lat" placeholder="Ejemplo: -10.323243232" name="deviceGPSLat" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Ubicacion GPS Longitud</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceGPS.lng" placeholder="Ejemplo: -10.323243232" name="deviceGPSLat" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Modo de lectura</label><div class="col-md-8"><select class="form-control" name="deviceMode" ng-model="vm.deviceMode"><option value="linea-base" selected="selected">Sin supresor</option><option value="ssp">Con supresor</option></select></div></div><div class="form-group"><label class="col-md-4" for="">Tipo de medición</label><div class="col-md-8"><select class="form-control" name="deviceReadType" ng-model="vm.deviceReadType"><option value="polvo-total" selected="selected">Polvo Total</option><option value="pm10">PM10</option><option value="pm2.5">PM2.5</option></select></div></div><div class="form-group"><label class="col-md-4" for="">LLP DS</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceLlpDs" placeholder="" name="deviceLlpDs" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Tonelaje</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceTonelaje" placeholder="" name="deviceTonelaje" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Umbral de Alerta</label><div class="col-md-8"><input class="form-control" ng-model="vm.deviceUmbralAlerta" placeholder="" name="deviceUmbralAlerta" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Auto Supresor</label><div class="col-md-8"><input ng-model="vm.device.auto_supresor" name="deviceAutoSupresor" type="checkbox"> <span>Activado</span></div></div><div class="form-group"><input type="submit" ng-disabled="!formCreateDevice.$valid" ng-click="vm.saveNewDevice()" class="btn btn-lg btn-success btn-block" value="Crear dispositivo"></div></fieldset></form><form ng-if="vm.status.screen == \'success-add\'" name="formCreatedSuccess" novalidate="" role="form"><fieldset><p>El dispositivo fue agregado con éxito.</p><a ng-href="#/devices/{{vm.deviceId}}" class="btn btn-lg btn-success btn-block">Ver Dispositivo</a></fieldset></form><form ng-if="vm.status.screen == \'success-assign\'" name="formAssignedSuccess" novalidate="" role="form"><fieldset><p>El dispositivo fue asignado con éxito.</p><a ng-href="#/devices/{{vm.deviceId}}" class="btn btn-lg btn-success btn-block">Ver Dispositivo</a></fieldset></form><form ng-if="vm.status.screen == \'already-asigned\'" name="formCreatedSuccess" novalidate="" role="form"><fieldset><p>El dispositivo ya pertenece al usuario.</p><a ng-href="#/devices/{{vm.deviceId}}" class="btn btn-lg btn-success btn-block">Ver Dispositivo</a></fieldset></form></div></div></div></div></div></div></div>'),e.put("app/device/device.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header"><i class="fa fa-bar-chart-o fa-fw"></i> Sensor {{vm.device.name}} <span ng-if="vm.isUserAdmin || vm.isUserDeviceAdmin"><small class="pull-right"><a class="settings-link" href="#/devices/{{vm.device.id}}/settings">Configurar dispositivo <i class="fa fa-cog"></i></a></small> <small class="pull-right" style="margin:0 24px;"><a class="settings-link" href="#/devices/{{vm.device.id}}/baselines">Lineas base <i class="fa fa-line-chart"></i></a></small></span></h1></div></div><div id="container"></div><div class="row"><div class="col-md-4"><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Último dato concentración de polvo (mg/m<sup>3</sup>)</h3></div><div class="panel-body"><h2 class="text-center text-warning">{{vm.lastPolutionVal}} <small>mg/m<sup>3</sup></small></h2></div></div></div><div class="col-md-4"><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">% de mitigación</h3></div><div class="panel-body"><c3chart bindto-id="gauge" chart-data="gauge.data" chart-columns="gauge.columns"><chart-size chart-height="100"></chart-size></c3chart></div></div></div><div class="col-md-4"><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Dosificación</h3></div><div class="panel-body"><rzslider ng-if="vm.device.auto_supresor" rz-slider-model="vm.slider.value" rz-slider-options="vm.slider.options"></rzslider><p class="text-center text-warning" ng-if="!vm.device.auto_supresor">Desactivado</p></div></div></div></div><div class="row"><div class="col-md-12" ng-if="vm.hasEmptyDatapoints"><h3 class="text-danger text-center" ng-if="vm.viewTimespan == \'hour\'">No se han recibido datos en la última hora, <a href="javascript:;" ng-click="vm.updateTimespan(\'day\')">prueba cargando el último dia</a><br><br></h3><h3 class="text-danger text-center" ng-if="vm.viewTimespan == \'3hours\'">No se han recibido datos en las 3 últimas horas, <a href="javascript:;" ng-click="vm.updateTimespan(\'day\')">prueba cargando el último dia</a><br><br></h3><h3 class="text-danger text-center" ng-if="vm.viewTimespan == \'day\'">No se han recibido datos el ultimo dia, por favor revisar el dispositivo<br><br></h3></div></div><div class="row"><div class="col-md-12"><div class="panel panel-primary"><div class="panel-heading"><div class="pull-right"><div class="btn-group"><button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">Cambiar rango de visualización <span class="caret"></span></button><ul class="dropdown-menu pull-right" role="menu"><li><a ng-class="{\'active\': vm.viewTimespan == \'hour\'}" ng-click="vm.updateTimespan(\'hour\')">1 Hora</a></li><li><a ng-class="{\'active\': vm.viewTimespan == \'3hours\'}" ng-click="vm.updateTimespan(\'3hours\')">3 Horas</a></li><li><a ng-class="{\'active\': vm.viewTimespan == \'day\'}" ng-click="vm.updateTimespan(\'day\')">1 Dia</a></li></ul></div></div><h2 class="panel-title">Concentración <strong ng-if="vm.viewTimespan == \'hour\'">Última Hora</strong> <strong ng-if="vm.viewTimespan == \'3hours\'">Últimas 3 Horas</strong> <strong ng-if="vm.viewTimespan == \'day\'">Último Día</strong> (mg/m3)</h2></div><div class="panel-body"><div id="time-chart" class="text-center">Cargando gráfico ...</div></div><div class="panel-footer"><h4>Exportar datos</h4><div class="row"><div class="btn-group btn-group-justified" role="group" aria-label="..."><a ng-href="{{vm.downloadUrls.hour}}" target="_blank" role="button" class="btn btn-primary"><i class="glyphicon glyphicon-download"></i> Última Hora</a> <a ng-href="{{vm.downloadUrls.day}}" target="_blank" role="button" class="btn btn-primary"><i class="glyphicon glyphicon-download"></i> Último Día</a> <a ng-href="{{vm.downloadUrls.week}}" target="_blank" role="button" class="btn btn-success"><i class="glyphicon glyphicon-download"></i> Última Semana</a> <a ng-href="{{vm.downloadUrls.month}}" target="_blank" role="button" class="btn btn-warning"><i class="glyphicon glyphicon-download"></i> Último Mes</a> <a ng-href="{{vm.downloadUrls.all}}" target="_blank" role="button" class="btn btn-danger"><i class="glyphicon glyphicon-download"></i> Todos los datos</a></div></div><h4>Exportar entre: <em>{{dt_from | date:\'fullDate\' }}</em> y <em>{{dt_to | date:\'fullDate\' }}</em></h4><div class="row"><div class="col-md-5"><p class="input-group"><input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt_from" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-5"><p class="input-group"><input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt_to" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class="col-md-2"><a ng-href="{{vm.downloadUrls.range}}" target="_blank" role="button" class="btn btn-danger"><i class="glyphicon glyphicon-download"></i> Exportar datos</a></div></div></div></div></div></div><div class="row" ng-if="vm.device.show_calculo"><h2>Datapoints</h2><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Cálculo de optimización</h3></div><div class="panel-body"><p style="white-space: pre; margin:0;">1 - ( ( SumaDeValores ) / ( HorasTotales * TonelajePromedio ) ) / ( ( SumaDeBaselines ) / ( HorasTotalesBaseline * TonelajePromedio ) )</p><p style="white-space: pre; margin:0;">1 - ( ( {{vm.filteredGrid.sum}} ) / ( {{vm.filteredGrid.totalHours}} * {{vm.filteredGrid.averageTonelaje}} ) ) / ( ( {{vm.filteredBaselineGrid.sum}} ) / ( {{vm.filteredBaselineGrid.totalHours}} * {{vm.filteredBaselineGrid.averageTonelaje}} ) )</p><p style="white-space: pre; margin:0;">1 - ( ( {{vm.filteredGrid.sum}} ) / ( {{vm.filteredGrid.totalHours * vm.filteredGrid.averageTonelaje}} ) ) / ( ( {{vm.filteredBaselineGrid.sum}} ) / ( {{vm.filteredBaselineGrid.totalHours * vm.filteredBaselineGrid.averageTonelaje}} ) )</p><p style="white-space: pre; margin:0;">1 - ( {{vm.filteredGrid.sum / (vm.filteredGrid.totalHours * vm.filteredGrid.averageTonelaje) }} / {{vm.filteredBaselineGrid.sum / (vm.filteredBaselineGrid.totalHours * vm.filteredBaselineGrid.averageTonelaje) }} )</p><p style="white-space: pre; margin:0;">1 - ( {{ (vm.filteredGrid.sum / (vm.filteredGrid.totalHours * vm.filteredGrid.averageTonelaje)) / (vm.filteredBaselineGrid.sum / (vm.filteredBaselineGrid.totalHours * vm.filteredBaselineGrid.averageTonelaje)) }} )</p><p style="white-space: pre;"><strong>Total:</strong> {{ 1 - (vm.filteredGrid.sum / (vm.filteredGrid.totalHours * vm.filteredGrid.averageTonelaje)) / (vm.filteredBaselineGrid.sum / (vm.filteredBaselineGrid.totalHours * vm.filteredBaselineGrid.averageTonelaje)) }}</p></div></div></div><div class="col-md-6"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Datapoints</h3></div><div class="panel-body"><div class="data"><ul><li>Percentil Inferior: {{vm.filteredGrid.p10}} ({{vm.filteredGrid.p10Value}})</li><li>Percentil Superior: {{vm.filteredGrid.p90}} ({{vm.filteredGrid.p90Value}})</li><li>Promedio: {{vm.filteredGrid.averageValue}}</li><li>Suma: {{vm.filteredGrid.sum}}</li><li>Freq: {{vm.filteredGrid.freq}}</li><li>HorasTotales: {{vm.filteredGrid.totalHours}}</li></ul></div><div id="grid1" ui-grid="vm.mainGrid"></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Datos filtrados y procesados</h3></div><div class="panel-body"><div id="grid2" ui-grid="vm.filteredGrid"></div></div></div></div><div class="col-md-6"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Baseline</h3></div><div class="panel-body"><div class="data"><ul><li>Percentil Inferior: {{vm.filteredBaselineGrid.p10}} ({{vm.filteredBaselineGrid.p10Value}})</li><li>Percentil Superior: {{vm.filteredBaselineGrid.p90}} ({{vm.filteredBaselineGrid.p90Value}})</li><li>Suma: {{vm.filteredBaselineGrid.sum}}</li><li>Promedio: {{vm.filteredBaselineGrid.averageValue}}</li><li>Freq: {{vm.filteredBaselineGrid.freq}}</li><li>HorasTotales: {{vm.filteredBaselineGrid.totalHours}}</li></ul></div><div id="grid2" ui-grid="vm.baselineGrid"></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Datos filtrados y procesados</h3></div><div class="panel-body"><div id="grid2" ui-grid="vm.filteredBaselineGrid"></div></div></div></div></div><div class="row" ng-if="vm.markers.length > 0 && !vm.hasEmptyDatapoints"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">GPS</h3></div><div class="panel-body"><ui-gmap-google-map center="vm.map.center" zoom="vm.map.zoom" bounds="vm.map.bounds" options="vm.map.options"><ui-gmap-markers fit="true" models="vm.markers" coords="\'self\'" icon="\'icon\'"></ui-gmap-markers></ui-gmap-google-map></div></div></div></div><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><form name="formUnassignDevice" novalidate="" role="form"><fieldset><div class="form-group"><input type="submit" ng-disabled="vm.sendingDeviceForm" class="btn btn-lg btn-danger btn-block" value="Remover dispositivo de mi cuenta" ng-really-message="Esta seguro que desea remover este dispositivo de su cuenta?" ng-really-click="vm.unassignDevice()"></div></fieldset></form></div></div></div></div></div></div>'),e.put("app/device-baselines/device-baselines.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header"><i class="fa fa-cog"></i> Lineas base del Sensor <strong>{{vm.device.name}}</strong> <small class="pull-right"><a class="settings-link" href="#/devices/{{vm.device.id}}"><i class="fa fa-chevron-left"></i> Volver al dispositivo</a></small></h1></div></div><div class="row"><div class="col-md-12"><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Seleccionar baseline de los siguientes obtenidos esta semana</h3></div><div class="panel-body"><div class="col-md-12 baseline-line fading" ng-class="{\'active\': baseline.from == vm.currentBaseline.from }" ng-repeat="baseline in vm.availableBaselines"><div class="row"><div class="col-md-2"><h2 class="text-center">{{baseline.baseline}}<br><small><small><strong>{{baseline.count}}</strong> puntos</small></small></h2></div><div class="col-md-4"><br><p class="btn-group btn-group-justified"><a class="btn btn-xs" ng-click="vm.selectBaseline($index)" ng-class="{\'btn-success\': vm.device.baseline_from == baseline.from && vm.device.baseline_value == baseline.baseline ,\'btn-info\': vm.device.baseline_from != baseline.from && vm.device.baseline_value != baseline.baseline }"><span ng-if="vm.device.baseline_from != baseline.from && vm.device.baseline_value != baseline.baseline"><i class="fa fa-circle-o"></i> Seleccionar</span> <span ng-if="vm.device.baseline_from == baseline.from && vm.device.baseline_value == baseline.baseline"><i class="fa fa-dot-circle-o"></i> Seleccionado</span></a> <a class="btn btn-xs btn-warning" ng-click="vm.exportBaseline($index)"><i class="glyphicon glyphicon-download"></i> Exportar</a> <a class="btn btn-xs btn-danger" ng-click="vm.deleteBaseline($index)"><i class="fa fa-close"></i> Eliminar</a></p><p class="text-center">{{baseline.from | date:\'EEEE dd/MM/y HH:mm:ss\'}} -<br>{{baseline.to | date:\'EEEE dd/MM/y HH:mm:ss\' }}</p></div><div class="col-md-6"><div id="basline-graph-{{$index}}" class="baseline-graph"></div></div></div></div></div></div></div></div></div></div>'),e.put("app/device-settings/device-settings.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header"><i class="fa fa-cog"></i> Configuración del Sensor <strong>{{vm.device.name}}</strong> <small class="pull-right"><a class="settings-link" href="#/devices/{{vm.device.id}}"><i class="fa fa-chevron-left"></i> Volver al dispositivo</a></small></h1></div></div><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Configuración del Dispositivo</h3></div><div class="panel-body"><form name="formUpdateDevice" novalidate="" role="form" class="form-horizontal"><fieldset><div class="form-group"><label class="col-md-4" for="">Nombre:</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.name" name="deviceName" readonly="true" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Tipo de sensor</label><div class="col-md-8"><select class="form-control" name="deviceType" ng-model="vm.device.type"><option value="polucion-simple">Chancado y Correas</option><option value="polucion-gps">Caminos</option></select></div></div><div class="form-group"><label class="col-md-4" for="">Ubicacion GPS Latitud</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.gps.lat" placeholder="Ejemplo: -10.323243232" name="deviceGPSLat" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Ubicacion GPS Longitud</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.gps.lng" placeholder="Ejemplo: -10.323243232" name="deviceGPSLat" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Modo de lectura</label><div class="col-md-8"><select class="form-control" name="deviceMode" ng-model="vm.device.mode"><option value="linea-base" selected="selected">Sin supresor</option><option value="ssp">Con supresor</option></select></div></div><div class="form-group"><label class="col-md-4" for="">Tipo de medición</label><div class="col-md-8"><select class="form-control" name="deviceReadType" ng-model="vm.device.read_type"><option value="polvo-total" selected="selected">Polvo Total</option><option value="pm10">PM10</option><option value="pm2.5">PM2.5</option></select></div></div><div class="form-group"><label class="col-md-4" for="">LLP DS 594</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.llp_ds" placeholder="" name="deviceLlpDs" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Tonelaje</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.tonelaje" placeholder="" name="deviceTonelaje" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Umbral de Alerta</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.alert_treadshot" placeholder="" name="deviceUmbralAlerta" type="text"></div></div><div class="form-group"><label class="col-md-4" for="">Auto Supresor</label><div class="col-md-8"><input ng-model="vm.device.auto_supresor" name="deviceAutoSupresor" type="checkbox"> <span>Activado</span></div></div></fieldset><h3>Otras configuraciones</h3><fieldset><div class="form-group"><label class="col-md-4" for="">Percentil de cálculo inferior</label><div class="col-md-8"><input class="form-control" ng-model="vm.device.percentil_inferior" placeholder="10" name="devicePercentilInferior" type="number" step="1" min="1" max="100"></div></div><div class="form-group"><label class="col-md-4" for="">Percentil de cálculo superior</label><div class="col-md-8"><input placeholder="90" class="form-control" ng-model="vm.device.percentil_superior" name="devicePercentilSuperior" type="number" step="1" min="1" max="100"></div></div><div class="form-group"><label class="col-md-4" for="">Ver detalle de cálculo de mitigacion</label><div class="col-md-8"><input ng-model="vm.device.show_calculo" name="deviceShowCalculo" type="checkbox"> &nbsp; <span>Activado</span></div></div><div class="form-group"><label class="col-md-4" for="">Mostrar tonelaje en gráfico</label><div class="col-md-8"><input ng-model="vm.device.show_tonelaje" name="deviceShowTonelaje" type="checkbox"> &nbsp; <span>Activado</span></div></div></fieldset><div class="form-group"><input type="submit" ng-disabled="vm.sendingDeviceForm" ng-click="vm.updateDevice()" class="btn btn-lg btn-success btn-block" value="Actualizar configuración"></div></form></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Usuarios asociados a este dispositivo</h3></div><div class="panel-body"><ul class="list-group"><li class="list-group-item" ng-repeat="user in vm.deviceUsers"><div class="row"><div class="col-md-6">{{user.email}}</div><div class="col-md-6"><span class="btn btn-xs btn-success" ng-if="user.isDeviceAdmin === true">Es Administrador del dispositivo</span> <a class="btn btn-xs btn-primary" ng-if="user.isDeviceAdmin === false" ng-click="vm.doDeviceAdmin($index)">Hacer administrador del dispositivo</a> <a class="btn btn-xs btn-danger" ng-if="user.isDeviceAdmin === true && user.id != vm.currentUserId" ng-click="vm.undoDeviceAdmin($index)">Quitar Administración del dispositivo</a></div></div></li></ul></div></div></div></div></div>'),e.put("app/logout/logout.html",""),e.put("app/login/login.html",'<div id="login"><div class="container"><div class="row"><div class="col-md-4 col-md-offset-4"><div class="login-panel panel panel-default"><div class="panel-heading text-center"><h3 class="panel-title"><img src="assets/images/logo_IMS.png" style="width:40%"></h3></div><div class="panel-body"><form name="form" novalidate="" role="form"><fieldset><p class="bg-danger pildorita" ng-show="vm.errorMessage != \'\'">{{errorMessage}}</p><div class="form-group"><input class="form-control" ng-model="vm.email" placeholder="Correo" name="email" type="email" required=""> <span class="text-danger" ng-show="form.$submitted && form.email.$error.required">El email es obligatorio</span> <span class="text-danger" ng-show="form.$submitted && form.email.$error.email">El email ingresado es inválido</span></div><div class="form-group"><input class="form-control" ng-model="vm.password" placeholder="Password" name="password" type="password" value="" required="" minlength="5"> <span class="text-danger" ng-show="form.$submitted && form.password.$error.required">El password es obligatorio</span> <span class="text-danger" ng-show="form.$submitted && form.password.$error.minlength">El password debe tener al menos 5 caracteres</span></div><input type="submit" ng-click="vm.login()" class="btn btn-lg btn-success btn-block" value="Ingresar"><p>&nbsp;</p><p class="text-center">No posee una cuenta? <a href="#/register" class="btn btn-xs btn-info">Regístrese</a></p></fieldset></form></div></div></div></div></div></div>'),e.put("app/main/main.html",'<div id="wrapper"><nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"><header-navbar></header-navbar><acme-navbar></acme-navbar></nav><div id="page-wrapper"><div class="row"><div class="col-lg-12"><h1 class="page-header">Dashboard</h1></div></div><div ng-if="vm.deviceCount === 0" class="row"><div class="col-lg-12"><div class="col-lg-4 col-lg-offset-4"><p class="text-center text-primary">No existen dispositivos asociados a su cuenta</p><a href="#/devices/assign" class="btn btn-primary btn-lg btn-block"><i class="fa fa-plus fa-fw"></i> Agregar su primer dispositivo</a></div></div></div><div ng-if="vm.deviceCount > 0" class="row"><div class="col-lg-8"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-bar-chart-o fa-fw"></i> Consolidado Sensores</div><div class="panel-body"><div id="morris-area-chart"></div><div ng-if="vm.nodata"><span class="text-center text-warning">No hay datos para mostrar</span></div></div></div></div><div class="col-lg-4"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-bell fa-fw"></i> Notificaciones</div><div class="panel-body"><div class="list-group"></div><a href="#" class="btn btn-default btn-block">Ver Todas las Alertas</a></div></div></div></div></div></div>'),e.put("app/register/register.html",'<div class="container"><div class="row"><div class="col-md-4 col-md-offset-4"><div class="login-panel panel panel-default"><div class="panel-heading text-center"><h3 class="panel-title"><img src="assets/images/logo_IMS.png" style="width:40%"></h3></div><div class="panel-body"><form name="form" novalidate="" role="form"><fieldset><p class="bg-danger pildorita" ng-show="vm.errorMessage != \'\'">{{errorMessage}}</p><p class="text-center bg-success pildorita" ng-show="vm.showSuccess"><strong>El usuario ha sido creado con éxito</strong>, ya puede <a href="#/login" class="btn btn-xs btn-success">Ingresar aquí</a></p><div class="form-group"><input class="form-control" ng-model="vm.email" placeholder="Correo" name="email" type="email" required=""> <span class="text-danger" ng-show="form.$submitted && form.email.$error.required">El email es obligatorio</span> <span class="text-danger" ng-show="form.$submitted && form.email.$error.email">El email ingresado es inválido</span></div><div class="form-group"><input class="form-control" ng-model="vm.password" placeholder="Password" name="password" type="password" value="" required="" minlength="5"> <span class="text-danger" ng-show="form.$submitted && form.password.$error.required">El password es obligatorio</span> <span class="text-danger" ng-show="form.$submitted && form.password.$error.minlength">El password debe tener al menos 5 caracteres</span></div><div class="form-group"><input class="form-control" ng-model="vm.password2" placeholder="Repetir password" name="password2" type="password" value="" required="" match="vm.password"> <span class="text-danger" ng-show="form.$submitted && form.password2.$error.required">Debe repetir el password</span><div class="text-danger" ng-show="form.$submitted && form.password2.$error.match">Los passwords no coinciden</div></div><input type="submit" ng-click="vm.register()" class="btn btn-lg btn-success btn-block" value="Registrarme"><p>&nbsp;</p><p class="text-center">Ya posee una cuenta? <a href="#/login" class="btn btn-xs btn-info">Ingresar</a></p></fieldset></form></div></div></div></div></div>'),e.put("app/components/navbar/navbar.html",'<div class="navbar-default sidebar" role="navigation"><div class="sidebar-nav navbar-collapse"><ul class="nav" id="side-menu"><li><a href="#/dashboard"><i class="fa fa-dashboard fa-fw"></i> Dashboard</a></li><li ng-repeat="device in vm.devices track by device.id"><a ng-href="#/devices/{{device.id}}"><i class="fa fa-bar-chart-o fa-fw"></i> Sensor {{device.name}}<span class="fa arrow"></span></a></li><li><a href="#/devices/assign"><i class="fa fa-plus fa-fw"></i> Agregar Dispositivo</a></li><li ng-if="vm.isAdmin" class="admin"><a href="#/admin"><i class="fa fa-cog fa-fw"></i> ADMIN</a></li></ul></div></div>'),
e.put("app/components/navhead/navhead.html",'<ul class="nav navbar-nav navbar-right"><li><a href="#/logout">&nbsp;Logout&nbsp;<i class="glyphicon glyphicon-log-out"></i></a></li></ul><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="index.html">Industrial MS</a></div>')}]);
//# sourceMappingURL=../maps/scripts/app-96d3f6c0e2.js.map
